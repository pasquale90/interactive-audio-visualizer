CC :=g++ -std=c++11
OPTIONS :=-g -pedantic -Wall -Wextra -Wno-error
OBJECTS :=dbuild/onset.o dbuild/btrack.o dbuild/debug.o #dbuild/btracker.o

FFT :=-lfftw3
# LOPENCV =-L/usr/local/lib -lopencv_core -lopencv_highgui -lopencv_videoio -lopencv_video
# IOPENCV=-I/usr/local/include/opencv4

LIBSAMPLERATE :=-I/usr/local/include -lsamplerate #-L/usr/lib/x86_64-linux-gnu
# KISSFFT :=-I/home/sonic_dev/Desktop/btack/BTrack/libs/kiss_fft130
BTRACK :=-I/home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src
AUDIOFILE :=-I/home/sonic_dev/Desktop/btack/AudioFile

debug: $(OBJECTS) #runnable
	$(CC) $(OPTIONS) $(OBJECTS) $(FFT) $(LIBSAMPLERATE) $(BTRACK) $(AUDIOFILE) -o debug 

dbuild/debug.o: debug.cpp # /usr/include/jack/jack.h /usr/include/jack/types.h
	$(CC) $(OPTIONS) -c debug.cpp -I/usr/include $(AUDIOFILE) $(FFT) $(LIBSAMPLERATE) $(BTRACK) -o dbuild/debug.o -DUSE_FFTW

# dbuild/btracker.o: beatracker.cpp beatracker.h
# 	$(CC) $(OPTIONS) -c beatracker.cpp $(LIBSAMPLERATE) $(FFT) $(BTRACK) -o dbuild/btracker.o

dbuild/btrack.o: /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/BTrack.cpp /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/BTrack.h
	$(CC) $(OPTIONS) -c /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/BTrack.cpp $(LIBSAMPLERATE) $(FFT) $(BTRACK) -o dbuild/btrack.o -DUSE_FFTW

dbuild/onset.o: /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/OnsetDetectionFunction.cpp /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/BTrack.h
	$(CC) $(OPTIONS) -c /home/sonic_dev/Desktop/ResearchersNight/interactive-audio-visualizer/libs/BTrack/src/OnsetDetectionFunction.cpp $(LIBSAMPLERATE) $(FFT) $(BTRACK) -o dbuild/onset.o -DUSE_FFTW

clean:
	rm -f dbuild/*.o debug