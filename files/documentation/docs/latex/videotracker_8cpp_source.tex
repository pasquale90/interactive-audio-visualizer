\hypertarget{videotracker_8cpp_source}{}\doxysection{videotracker.\+cpp}
\label{videotracker_8cpp_source}\index{src/videotracker.cpp@{src/videotracker.cpp}}
\mbox{\hyperlink{videotracker_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{videotracker_8h}{videotracker.h}}"{}}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00002}00002 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{roi_8h}{roi.h}}"{}}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00003}00003 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00004}\mbox{\hyperlink{classVideoTracker_a8a4eb43cf75ecaec34b1b54b99d7e701}{00004}} \mbox{\hyperlink{classVideoTracker_a8a4eb43cf75ecaec34b1b54b99d7e701}{VideoTracker::VideoTracker}}()\{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00006}00006     \textcolor{keywordtype}{int} radius=cfg.\mbox{\hyperlink{classConfig_a91839b9ae92f5503ed43baa71da88fdc}{iavconf}}.\mbox{\hyperlink{structIAVConfig_ab61ab68c3f8855d2b5b71c8ffcf9844e}{roiRadius}};}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00007}00007     \textcolor{keywordtype}{int} W=cfg.\mbox{\hyperlink{classConfig_ac0cf8c10aea198ce117dffb91206251c}{camconf}}.\mbox{\hyperlink{structCameraConfig_a53d5be43d6362ca145c56a64fe475bb9}{camResW}}.load();}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00008}00008     \textcolor{keywordtype}{int} H=cfg.\mbox{\hyperlink{classConfig_ac0cf8c10aea198ce117dffb91206251c}{camconf}}.\mbox{\hyperlink{structCameraConfig_a5aacf3ba605a2c6bfa6a88b971557fa2}{camResH}}.load();}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00009}00009     cv::Rect temp((W/2)-\/radius,(H/2)-\/radius,radius*2,radius*2);}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00010}00010     centerBox=temp;}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00011}00011     boundingBox=temp; }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00012}00012 \}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00015}\mbox{\hyperlink{classVideoTracker_af83065f606e3a076307a156c27f71b11}{00015}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classVideoTracker_af83065f606e3a076307a156c27f71b11}{VideoTracker::initializeTracker}}(\textcolor{keyword}{const} cv::Mat\& frame)\{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00016}00016     \textcolor{keywordflow}{if} (cfg.\mbox{\hyperlink{classConfig_a91839b9ae92f5503ed43baa71da88fdc}{iavconf}}.\mbox{\hyperlink{structIAVConfig_a429208ba4ff9c592ec985055adeef13e}{trackingAlg}} == \textcolor{stringliteral}{"{}CSRT"{}}) \{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00017}00017         tracker = cv::TrackerCSRT::create();}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00018}00018     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cfg.\mbox{\hyperlink{classConfig_a91839b9ae92f5503ed43baa71da88fdc}{iavconf}}.\mbox{\hyperlink{structIAVConfig_a429208ba4ff9c592ec985055adeef13e}{trackingAlg}} == \textcolor{stringliteral}{"{}KCF"{}}) \{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00019}00019         tracker = cv::TrackerKCF::create();}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00020}00020     \}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00021}00021     boundingBox = centerBox;}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00022}00022     tracker-\/>init(frame, boundingBox);}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00023}00023 \}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00025}\mbox{\hyperlink{classVideoTracker_a548651167191b0d3f5e69d252e3f30da}{00025}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classVideoTracker_a548651167191b0d3f5e69d252e3f30da}{VideoTracker::trackObject}}(\textcolor{keyword}{const} cv::Mat \&frame , \mbox{\hyperlink{structRegionOfInterest}{RegionOfInterest}} \&trackingSig)\{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00027}00027         \textcolor{keywordtype}{bool} trackingUpdated = tracker-\/>update(frame, boundingBox);}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00028}00028         \textcolor{keywordflow}{if} (trackingUpdated)\{}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00030}00030     \textcolor{comment}{// @ comment : this gives the center x,y and the w and h}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00031}00031             trackingSig.\mbox{\hyperlink{structRegionOfInterest_a7c05ee763a1dbcea5d7722c8611e6bc7}{centerX}}.store(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(boundingBox.x + boundingBox.width/2));}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00032}00032             trackingSig.\mbox{\hyperlink{structRegionOfInterest_a9a5c08c619eb5383833aabae962490df}{centerY}}.store(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(boundingBox.y + boundingBox.height/2));}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00033}00033             trackingSig.\mbox{\hyperlink{structRegionOfInterest_a0272d3fbebc59f034dd2de9e89d50598}{volumeW}}.store(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(boundingBox.width));}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00034}00034             trackingSig.\mbox{\hyperlink{structRegionOfInterest_a33377fff7783a831c2b373c2194e7afb}{volumeH}}.store(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(boundingBox.height));}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00035}00035     \textcolor{comment}{// @ comment : this gives the TOPLEFT corner x,y and the w and h}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00036}00036             \textcolor{comment}{// trackingSig.centerX.store(static\_cast<int>(boundingBox.x));}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00037}00037             \textcolor{comment}{// trackingSig.centerY.store(static\_cast<int>(boundingBox.y));}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00038}00038             \textcolor{comment}{// trackingSig.volumeW.store(static\_cast<int>(boundingBox.width));}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00039}00039             \textcolor{comment}{// trackingSig.volumeH.store(static\_cast<int>(boundingBox.height));}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00041}00041         \}}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00042}00042         \textcolor{keywordflow}{return} trackingUpdated;}
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{videotracker_8cpp_source_l00044}00044 \}}

\end{DoxyCode}
