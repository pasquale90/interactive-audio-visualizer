\hypertarget{classAudioServer}{}\doxysection{Audio\+Server Class Reference}
\label{classAudioServer}\index{AudioServer@{AudioServer}}


The jack-\/audio server running on the alsa drivers.  




{\ttfamily \#include $<$audioserver.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAudioServer_a805734cde851bf85b3bcb9bc8a76fb9e}{Audio\+Server}} (const char $\ast$driver\+Name=\mbox{\hyperlink{audioserver_8h_acec480b06d69cadd02c28e6ebb9e2412}{supported\+\_\+driver}})
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAudioServer_ae0e8c5f59aac9a1f4311b262e868cc5a}{$\sim$\+Audio\+Server}} ()
\begin{DoxyCompactList}\small\item\em Class destructor Destroys the jack audio server and its associated resources. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAudioServer_a19903646817c7d1f3dc2bec8d1f2811e}{setup\+\_\+server}} ()
\begin{DoxyCompactList}\small\item\em Setup the jack audio server by changing server parameters and alsa driver parameters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAudioServer_ad727e135d3776ff9a631e47873a6e239}{start\+\_\+server}} (std\+::mutex \&, std\+::condition\+\_\+variable \&, bool \&)
\begin{DoxyCompactList}\small\item\em Starts the jack audio server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAudioServer_a536a796af0497242444f845df99aba34}{stop\+\_\+server}} ()
\begin{DoxyCompactList}\small\item\em Stops the jack audio server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAudioServer_a812b89afeb671dae2fda7674aa858761}{Audio\+Server}} (const \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&)=delete
\begin{DoxyCompactList}\small\item\em Copy constructor is deleted to prevent accidental use. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAudioServer_a445545e5e10004d65ec649aafe53bf5f}{Audio\+Server}} (\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&\&)=delete
\begin{DoxyCompactList}\small\item\em Move constructor is deleted to prevent accidental use. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \& \mbox{\hyperlink{classAudioServer_a506d1caeb1dcdd2a93565d6ea1b8d213}{operator=}} (const \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&)=delete
\begin{DoxyCompactList}\small\item\em Copy assignment operator is deleted to prevent accidental use. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \& \mbox{\hyperlink{classAudioServer_a8bdf6e1d1391cfe12f19dab76ade9eb6}{operator=}} (\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&\&)=delete
\begin{DoxyCompactList}\small\item\em Move assignment operator is deleted to prevent accidental use. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The jack-\/audio server running on the alsa drivers. 

\begin{DoxyNote}{Note}
This class encapsulates the functionality for managing the jack audio server and its associated resources It is responsible for setting up the jack audio server, starting it, and stopping it. 

The \mbox{\hyperlink{classAudioServer}{Audio\+Server}} class uses the jack library for managing the jack audio server. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
the jack library documentation \+: \href{https://jackaudio.org/api/}{\texttt{ https\+://jackaudio.\+org/api/}} 

jack server example \+: \href{https://github.com/jackaudio/example-clients/blob/master/server_control.c}{\texttt{ https\+://github.\+com/jackaudio/example-\/clients/blob/master/server\+\_\+control.\+c}} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{audioserver_8h_source_l00022}{22}} of file \mbox{\hyperlink{audioserver_8h_source}{audioserver.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classAudioServer_a805734cde851bf85b3bcb9bc8a76fb9e}\label{classAudioServer_a805734cde851bf85b3bcb9bc8a76fb9e}} 
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{AudioServer()}{AudioServer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily Audio\+Server\+::\+Audio\+Server (\begin{DoxyParamCaption}\item[{const char $\ast$}]{driver\+Name = {\ttfamily \mbox{\hyperlink{audioserver_8h_acec480b06d69cadd02c28e6ebb9e2412}{supported\+\_\+driver}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Default constructor. 



Definition at line \mbox{\hyperlink{audioserver_8cpp_source_l00010}{10}} of file \mbox{\hyperlink{audioserver_8cpp_source}{audioserver.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00010                                               :driver\_name(driverName),audiocfg (\mbox{\hyperlink{classConfig_a2d423929da9ed51425ac0cf219b36f5e}{Config::getInstance}}().audconf)\{}
\DoxyCodeLine{00011     server = jackctl\_server\_create2(NULL, NULL, NULL);}
\DoxyCodeLine{00012     parameters = jackctl\_server\_get\_parameters(server);}
\DoxyCodeLine{00013     sigmask = jackctl\_setup\_signals(0);}
\DoxyCodeLine{00014     drivers = jackctl\_server\_get\_drivers\_list(server);}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAudioServer_ae0e8c5f59aac9a1f4311b262e868cc5a}\label{classAudioServer_ae0e8c5f59aac9a1f4311b262e868cc5a}} 
\index{AudioServer@{AudioServer}!````~AudioServer@{$\sim$AudioServer}}
\index{````~AudioServer@{$\sim$AudioServer}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{$\sim$AudioServer()}{~AudioServer()}}
{\footnotesize\ttfamily Audio\+Server\+::$\sim$\+Audio\+Server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Class destructor Destroys the jack audio server and its associated resources. 



Definition at line \mbox{\hyperlink{audioserver_8cpp_source_l00018}{18}} of file \mbox{\hyperlink{audioserver_8cpp_source}{audioserver.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018                          \{}
\DoxyCodeLine{00019     printf(\textcolor{stringliteral}{"{}Stopping server\(\backslash\)n"{}});}
\DoxyCodeLine{00020     \mbox{\hyperlink{classAudioServer_a536a796af0497242444f845df99aba34}{stop\_server}}();}
\DoxyCodeLine{00021 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAudioServer_a812b89afeb671dae2fda7674aa858761}\label{classAudioServer_a812b89afeb671dae2fda7674aa858761}} 
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{AudioServer()}{AudioServer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily Audio\+Server\+::\+Audio\+Server (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Copy constructor is deleted to prevent accidental use. 

\mbox{\Hypertarget{classAudioServer_a445545e5e10004d65ec649aafe53bf5f}\label{classAudioServer_a445545e5e10004d65ec649aafe53bf5f}} 
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\index{AudioServer@{AudioServer}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{AudioServer()}{AudioServer()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily Audio\+Server\+::\+Audio\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Move constructor is deleted to prevent accidental use. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAudioServer_a8bdf6e1d1391cfe12f19dab76ade9eb6}\label{classAudioServer_a8bdf6e1d1391cfe12f19dab76ade9eb6}} 
\index{AudioServer@{AudioServer}!operator=@{operator=}}
\index{operator=@{operator=}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \& Audio\+Server\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Move assignment operator is deleted to prevent accidental use. 

\mbox{\Hypertarget{classAudioServer_a506d1caeb1dcdd2a93565d6ea1b8d213}\label{classAudioServer_a506d1caeb1dcdd2a93565d6ea1b8d213}} 
\index{AudioServer@{AudioServer}!operator=@{operator=}}
\index{operator=@{operator=}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \& Audio\+Server\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classAudioServer}{Audio\+Server}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Copy assignment operator is deleted to prevent accidental use. 

\mbox{\Hypertarget{classAudioServer_a19903646817c7d1f3dc2bec8d1f2811e}\label{classAudioServer_a19903646817c7d1f3dc2bec8d1f2811e}} 
\index{AudioServer@{AudioServer}!setup\_server@{setup\_server}}
\index{setup\_server@{setup\_server}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{setup\_server()}{setup\_server()}}
{\footnotesize\ttfamily void Audio\+Server\+::setup\+\_\+server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Setup the jack audio server by changing server parameters and alsa driver parameters. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{audioserver_8cpp_source_l00023}{23}} of file \mbox{\hyperlink{audioserver_8cpp_source}{audioserver.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023                               \{}
\DoxyCodeLine{00024     }
\DoxyCodeLine{00025     change\_server\_parameters();}
\DoxyCodeLine{00026 \textcolor{preprocessor}{\#ifdef SERVER\_VERBOSE}}
\DoxyCodeLine{00027     print\_driver\_info();}
\DoxyCodeLine{00028 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00029     change\_ALSAdriver\_parameters();}
\DoxyCodeLine{00030 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAudioServer_ad727e135d3776ff9a631e47873a6e239}\label{classAudioServer_ad727e135d3776ff9a631e47873a6e239}} 
\index{AudioServer@{AudioServer}!start\_server@{start\_server}}
\index{start\_server@{start\_server}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{start\_server()}{start\_server()}}
{\footnotesize\ttfamily void Audio\+Server\+::start\+\_\+server (\begin{DoxyParamCaption}\item[{std\+::mutex \&}]{mtx,  }\item[{std\+::condition\+\_\+variable \&}]{cv,  }\item[{bool \&}]{server\+Started }\end{DoxyParamCaption})}



Starts the jack audio server. 


\begin{DoxyParams}{Parameters}
{\em std\+::mutex\&} & -\/ a mutex object to control synchronization with the client. \\
\hline
{\em std\+::condition\+\_\+variable\&} & -\/ a condition variable object to signal when the server is ready \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The server has to be started before the audio client attempts to connect. 
\end{DoxyWarning}


Definition at line \mbox{\hyperlink{audioserver_8cpp_source_l00037}{37}} of file \mbox{\hyperlink{audioserver_8cpp_source}{audioserver.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00037                                                                                            \{}
\DoxyCodeLine{00038     jackctl\_server\_open(server, jackctl\_server\_get\_driver());}
\DoxyCodeLine{00039     jackctl\_server\_start(server);}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041     \textcolor{comment}{// Signal that server has been started}}
\DoxyCodeLine{00042     \{}
\DoxyCodeLine{00043         std::lock\_guard<std::mutex> lock(mtx);}
\DoxyCodeLine{00044         serverStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{00045     \}}
\DoxyCodeLine{00046     cv.notify\_one();}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048     jackctl\_wait\_signals(sigmask);}
\DoxyCodeLine{00049 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAudioServer_a536a796af0497242444f845df99aba34}\label{classAudioServer_a536a796af0497242444f845df99aba34}} 
\index{AudioServer@{AudioServer}!stop\_server@{stop\_server}}
\index{stop\_server@{stop\_server}!AudioServer@{AudioServer}}
\doxysubsubsection{\texorpdfstring{stop\_server()}{stop\_server()}}
{\footnotesize\ttfamily void Audio\+Server\+::stop\+\_\+server (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stops the jack audio server. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{audioserver_8cpp_source_l00031}{31}} of file \mbox{\hyperlink{audioserver_8cpp_source}{audioserver.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031                              \{}
\DoxyCodeLine{00032     printf(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)nShutting down server\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{00033     jackctl\_server\_stop(server);}
\DoxyCodeLine{00034     jackctl\_server\_close(server);}
\DoxyCodeLine{00035     jackctl\_server\_destroy(server);}
\DoxyCodeLine{00036 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{audioserver_8h}{audioserver.\+h}}\item 
src/\mbox{\hyperlink{audioserver_8cpp}{audioserver.\+cpp}}\end{DoxyCompactItemize}
