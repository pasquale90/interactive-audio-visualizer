\hypertarget{classAudiolizer}{}\doxysection{Audiolizer Class Reference}
\label{classAudiolizer}\index{Audiolizer@{Audiolizer}}


A class responsible for translating tracking signal into audio frequency.  




{\ttfamily \#include $<$audiolizer.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAudiolizer_a416bdbc7e4c303d921cf8a1995a08c9a}{Audiolizer}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classAudiolizer_a2b9a26bd1486ebf2bdae14d7edd370c0}{turn\+\_\+\+Image\+\_\+into\+\_\+\+Sound}} (const bool, const bool, const \mbox{\hyperlink{structRegionOfInterest}{Region\+Of\+Interest}} \&, \mbox{\hyperlink{structTone}{Tone}} \&)
\begin{DoxyCompactList}\small\item\em Member function responsible for obtaining image signal and converting it into sound of a certain frequency. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classAudiolizer_a615968fb43d145079d06521ad7634946}{set\+Audio\+Updater}} (std\+::function$<$ void(int, float)$>$)
\begin{DoxyCompactList}\small\item\em Method that sets the audio updater function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A class responsible for translating tracking signal into audio frequency. 

\begin{DoxyNote}{Note}
This class is responsible for managing the conversion from image to audio. 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{audiolizer_8h_source_l00013}{13}} of file \mbox{\hyperlink{audiolizer_8h_source}{audiolizer.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classAudiolizer_a416bdbc7e4c303d921cf8a1995a08c9a}\label{classAudiolizer_a416bdbc7e4c303d921cf8a1995a08c9a}} 
\index{Audiolizer@{Audiolizer}!Audiolizer@{Audiolizer}}
\index{Audiolizer@{Audiolizer}!Audiolizer@{Audiolizer}}
\doxysubsubsection{\texorpdfstring{Audiolizer()}{Audiolizer()}}
{\footnotesize\ttfamily Audiolizer\+::\+Audiolizer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Default constructor. 



Definition at line \mbox{\hyperlink{audiolizer_8cpp_source_l00007}{7}} of file \mbox{\hyperlink{audiolizer_8cpp_source}{audiolizer.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007                       :cameracfg(\mbox{\hyperlink{classConfig_a2d423929da9ed51425ac0cf219b36f5e}{Config::getInstance}}().camconf),iavcfg(\mbox{\hyperlink{classConfig_a2d423929da9ed51425ac0cf219b36f5e}{Config::getInstance}}().iavconf)\{}
\DoxyCodeLine{00008 }
\DoxyCodeLine{00009     \textcolor{comment}{// @TEMPORARY DISABLED}}
\DoxyCodeLine{00010     \textcolor{comment}{// init\_log\_freq\_scale(); // currently not used. Use \_int2log\_freq (currently not used either) is affected by this method..}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012     frequencyRange = iavcfg.\mbox{\hyperlink{structIAVConfig_a00eb72c5d6c59eb3d3308bdb1d337a10}{maxFrequency}} -\/ iavcfg.\mbox{\hyperlink{structIAVConfig_ad171cfdbc06a2403eb3dad6636a59cf0}{minFrequency}};}
\DoxyCodeLine{00013     prev\_freq=0;}
\DoxyCodeLine{00014     volume = 0.f;}
\DoxyCodeLine{00015 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAudiolizer_a615968fb43d145079d06521ad7634946}\label{classAudiolizer_a615968fb43d145079d06521ad7634946}} 
\index{Audiolizer@{Audiolizer}!setAudioUpdater@{setAudioUpdater}}
\index{setAudioUpdater@{setAudioUpdater}!Audiolizer@{Audiolizer}}
\doxysubsubsection{\texorpdfstring{setAudioUpdater()}{setAudioUpdater()}}
{\footnotesize\ttfamily void Audiolizer\+::set\+Audio\+Updater (\begin{DoxyParamCaption}\item[{std\+::function$<$ void(int, float)$>$}]{func }\end{DoxyParamCaption})}



Method that sets the audio updater function. 


\begin{DoxyParams}{Parameters}
{\em std\+::function$<$void(int,float)$>$} & -\/ the audio updater function that receives as parameters the current frequency and volume. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{audiolizer_8cpp_source_l00017}{17}} of file \mbox{\hyperlink{audiolizer_8cpp_source}{audiolizer.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00017                                                                   \{}
\DoxyCodeLine{00018     updateAudio = std::move(func);}
\DoxyCodeLine{00019 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAudiolizer_a2b9a26bd1486ebf2bdae14d7edd370c0}\label{classAudiolizer_a2b9a26bd1486ebf2bdae14d7edd370c0}} 
\index{Audiolizer@{Audiolizer}!turn\_Image\_into\_Sound@{turn\_Image\_into\_Sound}}
\index{turn\_Image\_into\_Sound@{turn\_Image\_into\_Sound}!Audiolizer@{Audiolizer}}
\doxysubsubsection{\texorpdfstring{turn\_Image\_into\_Sound()}{turn\_Image\_into\_Sound()}}
{\footnotesize\ttfamily bool Audiolizer\+::turn\+\_\+\+Image\+\_\+into\+\_\+\+Sound (\begin{DoxyParamCaption}\item[{const bool}]{tracking\+\_\+updated,  }\item[{const bool}]{pattern\+\_\+locked,  }\item[{const \mbox{\hyperlink{structRegionOfInterest}{Region\+Of\+Interest}} \&}]{roi,  }\item[{\mbox{\hyperlink{structTone}{Tone}} \&}]{tone }\end{DoxyParamCaption})}



Member function responsible for obtaining image signal and converting it into sound of a certain frequency. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bool} & tracking\+Updated -\/ variable that indicates whether there is a new tracking signal. \\
\hline
\mbox{\texttt{ in}}  & {\em bool} & tracking\+Enabled -\/ variable that indicates whether the tracking is enabled or not. \\
\hline
 & {\em Region\+Of\+Interest\&} & roi -\/ variable passed by reference that updates the value of the current tracking signal. \\
\hline
\mbox{\texttt{ in}}  & {\em Tone\&} & -\/ the tone object for storing the current frequency and volume \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool -\/ returns true if frequency has changed 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{audiolizer_8cpp_source_l00021}{21}} of file \mbox{\hyperlink{audiolizer_8cpp_source}{audiolizer.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021                                                                                                                                       \{}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023 \textcolor{comment}{   /***}}
\DoxyCodeLine{00024 \textcolor{comment}{    * returns by reference the frequency that will be streamed on the next audio buffer}}
\DoxyCodeLine{00025 \textcolor{comment}{   */}}
\DoxyCodeLine{00026     }
\DoxyCodeLine{00027     \textcolor{keywordtype}{int} frequency = tone.\mbox{\hyperlink{structTone_a8c28a65c858594e410d94921d7abc1fa}{frequency}}.load();}
\DoxyCodeLine{00028     \textcolor{keywordtype}{int} prevFreq = prev\_freq;}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030     \textcolor{keywordflow}{if} (pattern\_locked)\{}
\DoxyCodeLine{00031         \textcolor{keywordflow}{if} (tracking\_updated)          \textcolor{comment}{// if tracking updated -\/-\/> new x,y -\/-\/> new freq}}
\DoxyCodeLine{00032             translate(roi, frequency);      }
\DoxyCodeLine{00033         \textcolor{keywordflow}{else}\{                          \textcolor{comment}{// else -\/-\/> previous frequency}}
\DoxyCodeLine{00034             frequency=prev\_freq;}
\DoxyCodeLine{00035         \} }
\DoxyCodeLine{00036     \}\textcolor{keywordflow}{else}\{                            \textcolor{comment}{// gradualy fade frequency to zero -\/-\/> if frequency > 0 , slowly decline}}
\DoxyCodeLine{00037         \textcolor{keywordflow}{if} (frequency>1)\{ }
\DoxyCodeLine{00038             gradualy\_fade(frequency); \textcolor{comment}{// gradualy fade frequency to zero -\/-\/> if frequency > 0 , slowly decline}}
\DoxyCodeLine{00039         \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00040             frequency=0;}
\DoxyCodeLine{00041             volume = 0.f;}
\DoxyCodeLine{00042         \}}
\DoxyCodeLine{00043     \}}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045     \textcolor{comment}{// update audioStream with the newFrequency}}
\DoxyCodeLine{00046     \textcolor{keywordtype}{bool} frequencyChanged = frequency != prevFreq;}
\DoxyCodeLine{00047     \textcolor{keywordflow}{if} (frequencyChanged)\{}
\DoxyCodeLine{00048         updateAudio(frequency , volume);}
\DoxyCodeLine{00049     \}}
\DoxyCodeLine{00050     tone.\mbox{\hyperlink{structTone_a8c28a65c858594e410d94921d7abc1fa}{frequency}}.store(frequency);}
\DoxyCodeLine{00051     tone.\mbox{\hyperlink{structTone_ad643b37d799caa83f6a80dc2f001aa4a}{volume}}.store(volume);}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053     \textcolor{keywordflow}{return} frequencyChanged;}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{audiolizer_8h}{audiolizer.\+h}}\item 
src/\mbox{\hyperlink{audiolizer_8cpp}{audiolizer.\+cpp}}\end{DoxyCompactItemize}
