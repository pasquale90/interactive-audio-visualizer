<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Interactive Audio Visualizer: AudioHardware Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Interactive Audio Visualizer<span id="projectnumber">&#160;2.0</span>
   </div>
   <div id="projectbrief">interactive audio visualizer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">AudioHardware Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Audio hardware namespace provides functions to interact with audio hardware devices.  
<a href="namespaceAudioHardware.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAudioHardware_1_1Info.html">Info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing audio hardware information.  <a href="structAudioHardware_1_1Info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8bee9daf0ac390a7556c7c0d4b97fb3e"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceAudioHardware.html#a8bee9daf0ac390a7556c7c0d4b97fb3e">supportedRates</a> ({8000, 11025, 16000, 22050, 32000, 44100, 48000, 88200, 96000, 176000, 192000, 352800, 384000})</td></tr>
<tr class="memdesc:a8bee9daf0ac390a7556c7c0d4b97fb3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of supported sample rates.  <a href="namespaceAudioHardware.html#a8bee9daf0ac390a7556c7c0d4b97fb3e">More...</a><br /></td></tr>
<tr class="separator:a8bee9daf0ac390a7556c7c0d4b97fb3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874a8ed7643bcea6d94a01b94ec544db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceAudioHardware.html#a874a8ed7643bcea6d94a01b94ec544db">get_audio_device_info</a> (int, int, std::pair&lt; unsigned int, unsigned int &gt; &amp;, unsigned int &amp;)</td></tr>
<tr class="memdesc:a874a8ed7643bcea6d94a01b94ec544db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves information about available audio devices related to a specific audio card.  <a href="namespaceAudioHardware.html#a874a8ed7643bcea6d94a01b94ec544db">More...</a><br /></td></tr>
<tr class="separator:a874a8ed7643bcea6d94a01b94ec544db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906e6749cef4efdd304dbc28530159c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceAudioHardware.html#a906e6749cef4efdd304dbc28530159c6">get_audio_hardware_info</a> (std::vector&lt; <a class="el" href="structAudioHardware_1_1Info.html">Info</a> &gt; &amp;)</td></tr>
<tr class="memdesc:a906e6749cef4efdd304dbc28530159c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves information about available audio cards and their supported audio devices.  <a href="namespaceAudioHardware.html#a906e6749cef4efdd304dbc28530159c6">More...</a><br /></td></tr>
<tr class="separator:a906e6749cef4efdd304dbc28530159c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a84c7c3993b3b664afab90913a55fba58"><td class="memItemLeft" align="right" valign="top">const short int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceAudioHardware.html#a84c7c3993b3b664afab90913a55fba58">MAX_POTENTIAL_AUDIO_DEVICES</a> = 32</td></tr>
<tr class="memdesc:a84c7c3993b3b664afab90913a55fba58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom defined - maximum number of potential audio devices that can be retrieved.  <a href="namespaceAudioHardware.html#a84c7c3993b3b664afab90913a55fba58">More...</a><br /></td></tr>
<tr class="separator:a84c7c3993b3b664afab90913a55fba58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd0d01ecfb85ee51cdc1c04fb15d39c5"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceAudioHardware.html#abd0d01ecfb85ee51cdc1c04fb15d39c5">quantizationRatio</a> { sizeof(float) * CHAR_BIT }</td></tr>
<tr class="memdesc:abd0d01ecfb85ee51cdc1c04fb15d39c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit size of the floating-point samples in bits.  <a href="namespaceAudioHardware.html#abd0d01ecfb85ee51cdc1c04fb15d39c5">More...</a><br /></td></tr>
<tr class="separator:abd0d01ecfb85ee51cdc1c04fb15d39c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Audio hardware namespace provides functions to interact with audio hardware devices. </p>
<dl class="section note"><dt>Note</dt><dd>This namespace encapsulates the functionality to retrieve information about available audio devices, sample rates, and number of channels. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a874a8ed7643bcea6d94a01b94ec544db" name="a874a8ed7643bcea6d94a01b94ec544db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874a8ed7643bcea6d94a01b94ec544db">&#9670;&nbsp;</a></span>get_audio_device_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AudioHardware::get_audio_device_info </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; unsigned int, unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>numChannels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves information about available audio devices related to a specific audio card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>card - audio card index </td></tr>
    <tr><td class="paramname">int</td><td>device - audio device index </td></tr>
    <tr><td class="paramname">std::pair&lt;unsigned</td><td>int, unsigned int&gt; &amp;sample_rate - sample rate range (min, max) </td></tr>
    <tr><td class="paramname">unsigned</td><td>int &amp;numChannels - number of audio channels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool - true if information related to the specific audio card is successfully retrieved </dd></dl>

<p class="definition">Definition at line <a class="el" href="audiohw_8cpp_source.html#l00008">8</a> of file <a class="el" href="audiohw_8cpp_source.html">audiohw.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>{</div>
<div class="line"><span class="lineno">   10</span>    snd_pcm_t *handle;</div>
<div class="line"><span class="lineno">   11</span>    snd_pcm_hw_params_t *params;</div>
<div class="line"><span class="lineno">   12</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">   13</span>    <span class="keywordtype">char</span> name[32];</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sample_rate_min,</div>
<div class="line"><span class="lineno">   15</span>                 sample_rate_max;</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    <span class="comment">// Open the PCM device    </span></div>
<div class="line"><span class="lineno">   18</span>    sprintf(name, <span class="stringliteral">&quot;hw:%d,%d&quot;</span>, card, device);</div>
<div class="line"><span class="lineno">   19</span>    err = snd_pcm_open(&amp;handle, name, SND_PCM_STREAM_PLAYBACK, 0);</div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">   21</span>        <span class="comment">// Error opening PCM device</span></div>
<div class="line"><span class="lineno">   22</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   23</span>    }</div>
<div class="line"><span class="lineno">   24</span> </div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">// Allocate hardware parameters object</span></div>
<div class="line"><span class="lineno">   26</span>    snd_pcm_hw_params_alloca(&amp;params);</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">// Initialize hwparams with full configuration space</span></div>
<div class="line"><span class="lineno">   29</span>    err = snd_pcm_hw_params_any(handle, params);</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">   31</span>        <span class="comment">// Error setting hwparams </span></div>
<div class="line"><span class="lineno">   32</span>        snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   34</span>    }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>    <span class="comment">// Get sample rate range</span></div>
<div class="line"><span class="lineno">   37</span>    err = snd_pcm_hw_params_get_rate_min(params, &amp;sample_rate_min, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">   39</span>        <span class="comment">// Error getting sample rate min </span></div>
<div class="line"><span class="lineno">   40</span>        snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span>    err = snd_pcm_hw_params_get_rate_max(params, &amp;sample_rate_max, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">   45</span>        <span class="comment">// Error getting sample rate max</span></div>
<div class="line"><span class="lineno">   46</span>        snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   48</span>    }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    sample_rate.first = sample_rate_min;</div>
<div class="line"><span class="lineno">   51</span>    sample_rate.second = sample_rate_max;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">// get number of output channels</span></div>
<div class="line"><span class="lineno">   54</span>    err = snd_pcm_hw_params_get_channels(params, &amp;numChannels);<span class="comment">// channels now holds the number of channels (outputs)</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span> (err &lt; 0 || numChannels ==0 ) {</div>
<div class="line"><span class="lineno">   56</span>        <span class="comment">// Set the desired number of channels (e.g., 2 for stereo)</span></div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> atLeastStereo = 2;</div>
<div class="line"><span class="lineno">   58</span>        err = snd_pcm_hw_params_set_channels(handle, params, atLeastStereo);</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">if</span> (err &lt; 0 || numChannels ==0 ) {</div>
<div class="line"><span class="lineno">   60</span>            </div>
<div class="line"><span class="lineno">   61</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> atLeastMono = 1;</div>
<div class="line"><span class="lineno">   62</span>            err = snd_pcm_hw_params_set_channels(handle, params, atLeastMono);</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">if</span> (err &lt; 0 || numChannels ==0) {</div>
<div class="line"><span class="lineno">   64</span>                <span class="comment">// Error setting channels</span></div>
<div class="line"><span class="lineno">   65</span>                snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">   66</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   67</span>            } </div>
<div class="line"><span class="lineno">   68</span>            <span class="comment">// set numChannels to mono</span></div>
<div class="line"><span class="lineno">   69</span>            snd_pcm_hw_params_get_channels(params, &amp;numChannels);</div>
<div class="line"><span class="lineno">   70</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   71</span>            <span class="comment">//set numChannels to stereo</span></div>
<div class="line"><span class="lineno">   72</span>            snd_pcm_hw_params_get_channels(params, &amp;numChannels);</div>
<div class="line"><span class="lineno">   73</span>        }</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">// Close the PCM device</span></div>
<div class="line"><span class="lineno">   77</span>    snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   79</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a906e6749cef4efdd304dbc28530159c6" name="a906e6749cef4efdd304dbc28530159c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a906e6749cef4efdd304dbc28530159c6">&#9670;&nbsp;</a></span>get_audio_hardware_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AudioHardware::get_audio_hardware_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structAudioHardware_1_1Info.html">Info</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>audio_hw_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves information about available audio cards and their supported audio devices. </p>
<p >This function scans the system for connected audio devices and gathers information about each one of them, including its name id, the sample rate range supported and the number of output channels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std::vector&lt;Info&gt;</td><td>&amp;audio_hw_info - vector to store audio hardware information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="audiohw_8cpp_source.html#l00081">81</a> of file <a class="el" href="audiohw_8cpp_source.html">audiohw.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                                                                         {</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordtype">int</span> card = -1;</div>
<div class="line"><span class="lineno">   84</span>    </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">// Loop through all available cards</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">   87</span>        </div>
<div class="line"><span class="lineno">   88</span>        <span class="comment">// Find the next card</span></div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordtype">int</span> err = snd_card_next(&amp;card);</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">   91</span>            <span class="comment">// Error getting next card</span></div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   93</span>        }</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">if</span> (card &lt; 0) {</div>
<div class="line"><span class="lineno">   95</span>            <span class="comment">// No more cards</span></div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   97</span>        }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>        <span class="comment">// Open the card control interface</span></div>
<div class="line"><span class="lineno">  100</span>        snd_ctl_t *ctl_handle;</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordtype">char</span> ctl_name[32];</div>
<div class="line"><span class="lineno">  102</span>        sprintf(ctl_name, <span class="stringliteral">&quot;hw:%d&quot;</span>, card);</div>
<div class="line"><span class="lineno">  103</span>        err = snd_ctl_open(&amp;ctl_handle, ctl_name, 0);</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">  105</span>            <span class="comment">// Error opening card</span></div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  107</span>        }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <span class="comment">// Get the card info</span></div>
<div class="line"><span class="lineno">  110</span>        snd_ctl_card_info_t *info;</div>
<div class="line"><span class="lineno">  111</span>        snd_ctl_card_info_malloc(&amp;info);</div>
<div class="line"><span class="lineno">  112</span>        err = snd_ctl_card_info(ctl_handle, info);</div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><span class="lineno">  114</span>            <span class="comment">// Error getting card info</span></div>
<div class="line"><span class="lineno">  115</span>            snd_ctl_close(ctl_handle);</div>
<div class="line"><span class="lineno">  116</span>            snd_ctl_card_info_free(info);</div>
<div class="line"><span class="lineno">  117</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  118</span>        }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>        std::string card_id = snd_ctl_card_info_get_id(info) ; </div>
<div class="line"><span class="lineno">  121</span>        std::string mixer = snd_ctl_card_info_get_mixername(info);</div>
<div class="line"><span class="lineno">  122</span><span class="comment">// card_id = card_id + &quot;(&quot;+mixer+&quot;)&quot;;</span></div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// Check if it is an output device and if it can be opened</span></div>
<div class="line"><span class="lineno">  125</span>        snd_pcm_t *handle;</div>
<div class="line"><span class="lineno">  126</span>        std::string card_name_str =<span class="stringliteral">&quot;hw:&quot;</span> + std::to_string(card) + <span class="stringliteral">&quot;,0&quot;</span>; </div>
<div class="line"><span class="lineno">  127</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* card_name = card_name_str.c_str();</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (snd_pcm_open(&amp;handle, card_name, SND_PCM_STREAM_PLAYBACK, 0) &gt;= 0) {</div>
<div class="line"><span class="lineno">  129</span>            snd_pcm_close(handle);</div>
<div class="line"><span class="lineno">  130</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordflow">continue</span>; <span class="comment">// Skip this card if it doesn&#39;t support output.</span></div>
<div class="line"><span class="lineno">  132</span>        }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>        <span class="comment">// Free the card info</span></div>
<div class="line"><span class="lineno">  135</span>        snd_ctl_card_info_free(info);</div>
<div class="line"><span class="lineno">  136</span>        snd_ctl_close(ctl_handle);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>        <span class="comment">// Get PCM device info</span></div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordtype">int</span> device = 0;</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numChannels = 0;</div>
<div class="line"><span class="lineno">  141</span>        std::pair&lt;unsigned int, unsigned int&gt; sample_rate_range;</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">while</span>(!<a class="code hl_function" href="namespaceAudioHardware.html#a874a8ed7643bcea6d94a01b94ec544db">AudioHardware::get_audio_device_info</a>(card, device,sample_rate_range,numChannels) &amp;&amp; device &lt; <a class="code hl_variable" href="namespaceAudioHardware.html#a84c7c3993b3b664afab90913a55fba58">MAX_POTENTIAL_AUDIO_DEVICES</a> ){</div>
<div class="line"><span class="lineno">  143</span>            ++device;</div>
<div class="line"><span class="lineno">  144</span>        }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        Info deviceInfo;</div>
<div class="line"><span class="lineno">  147</span>        deviceInfo.card_info = std::make_pair(card_id,mixer);</div>
<div class="line"><span class="lineno">  148</span>        deviceInfo.sample_rate_range = sample_rate_range;</div>
<div class="line"><span class="lineno">  149</span>        deviceInfo.numberOfChannels = numChannels;</div>
<div class="line"><span class="lineno">  150</span>        audio_hw_info.push_back(deviceInfo);</div>
<div class="line"><span class="lineno">  151</span>        </div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span>}</div>
<div class="ttc" id="anamespaceAudioHardware_html_a84c7c3993b3b664afab90913a55fba58"><div class="ttname"><a href="namespaceAudioHardware.html#a84c7c3993b3b664afab90913a55fba58">AudioHardware::MAX_POTENTIAL_AUDIO_DEVICES</a></div><div class="ttdeci">const short int MAX_POTENTIAL_AUDIO_DEVICES</div><div class="ttdoc">Custom defined - maximum number of potential audio devices that can be retrieved.</div><div class="ttdef"><b>Definition:</b> <a href="audiohw_8h_source.html#l00016">audiohw.h:16</a></div></div>
<div class="ttc" id="anamespaceAudioHardware_html_a874a8ed7643bcea6d94a01b94ec544db"><div class="ttname"><a href="namespaceAudioHardware.html#a874a8ed7643bcea6d94a01b94ec544db">AudioHardware::get_audio_device_info</a></div><div class="ttdeci">bool get_audio_device_info(int, int, std::pair&lt; unsigned int, unsigned int &gt; &amp;, unsigned int &amp;)</div><div class="ttdoc">Retrieves information about available audio devices related to a specific audio card.</div><div class="ttdef"><b>Definition:</b> <a href="audiohw_8cpp_source.html#l00008">audiohw.cpp:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bee9daf0ac390a7556c7c0d4b97fb3e" name="a8bee9daf0ac390a7556c7c0d4b97fb3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bee9daf0ac390a7556c7c0d4b97fb3e">&#9670;&nbsp;</a></span>supportedRates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; unsigned int &gt; AudioHardware::supportedRates </td>
          <td>(</td>
          <td class="paramtype">{8000, 11025, 16000, 22050, 32000, 44100, 48000, 88200, 96000, 176000, 192000, 352800, 384000}&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of supported sample rates. </p>
<dl class="section see"><dt>See also</dt><dd>for detailed info see : <a href="https://en.wikipedia.org/wiki/Sampling_(signal_processing)#Audio_sampling">https://en.wikipedia.org/wiki/Sampling_(signal_processing)#Audio_sampling</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a84c7c3993b3b664afab90913a55fba58" name="a84c7c3993b3b664afab90913a55fba58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c7c3993b3b664afab90913a55fba58">&#9670;&nbsp;</a></span>MAX_POTENTIAL_AUDIO_DEVICES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const short int AudioHardware::MAX_POTENTIAL_AUDIO_DEVICES = 32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom defined - maximum number of potential audio devices that can be retrieved. </p>

<p class="definition">Definition at line <a class="el" href="audiohw_8h_source.html#l00016">16</a> of file <a class="el" href="audiohw_8h_source.html">audiohw.h</a>.</p>

</div>
</div>
<a id="abd0d01ecfb85ee51cdc1c04fb15d39c5" name="abd0d01ecfb85ee51cdc1c04fb15d39c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd0d01ecfb85ee51cdc1c04fb15d39c5">&#9670;&nbsp;</a></span>quantizationRatio</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int AudioHardware::quantizationRatio { sizeof(float) * CHAR_BIT }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bit size of the floating-point samples in bits. </p>

<p class="definition">Definition at line <a class="el" href="audiohw_8h_source.html#l00027">27</a> of file <a class="el" href="audiohw_8h_source.html">audiohw.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
